/* ========================================
   Session View (Panel Mode)
   ======================================== */

/* Panel with session content - reduced padding */
.episteme-panel:has(.episteme-session-content) {
	padding: 8px 0px;
}

/* Remove header border for session panel */
.episteme-panel:has(.episteme-session-content)
	.episteme-panel-header-container {
	border-bottom: none;
}

/* Content container - no top margin, don't scroll entire area */
.episteme-panel-content-container:has(.episteme-session-content) {
	overflow-y: hidden;
	display: flex;
	flex-direction: column;
	margin-top: 0;
}

/* Session content - flex container filling space */
.episteme-session-content {
	display: flex;
	flex-direction: column;
	flex: 1;
	min-height: 0;
	gap: 8px;
	padding: 0 6px;
}

/* Section headers - uppercase, small, gray */
.episteme-section-header {
	font-size: 11px;
	font-weight: 600;
	color: var(--text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	margin: 8px 0 6px 0;
}

/* Note list - scrollable, fills remaining space */
.episteme-panel-content-container .episteme-note-list {
	flex: 1;
	overflow-y: auto;
	margin-bottom: 0;
	max-height: none; /* Override modal's max-height: 350px */
}

/* Note item - card style */
.episteme-note-item {
	display: flex;
	align-items: flex-start;
	gap: 12px;
	padding: 10px 12px;
	border-bottom: 1px solid var(--background-modifier-border);
	cursor: pointer;
	transition: background-color 0.1s ease;
}

.episteme-note-item:hover {
	background: var(--background-modifier-hover);
}

.episteme-note-item:last-child {
	border-bottom: none;
}

.episteme-note-item.episteme-note-item--selected {
	background: rgba(var(--interactive-accent-rgb), 0.08);
}

/* Checkbox in note item */
.episteme-note-item input[type="checkbox"] {
	margin-top: 2px;
	flex-shrink: 0;
	width: 16px;
	height: 16px;
}

/* Completed tick */
.episteme-note-item .episteme-completed-tick {
	color: var(--color-green, #22c55e);
	font-size: 16px;
	font-weight: 600;
	width: 16px;
	text-align: center;
}

/* Content container */
.episteme-note-item-content {
	flex: 1;
	min-width: 0;
}

/* Note name - allow 2 lines */
.episteme-note-item-name {
	font-size: 14px;
	font-weight: 500;
	color: var(--text-normal);
	line-height: 1.4;
	display: -webkit-box;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

/* Note name link */
.episteme-note-item-name a {
	color: var(--text-normal);
	text-decoration: none;
}

.episteme-note-item-name a:hover {
	color: var(--link-color);
	text-decoration: underline;
}

/* Stats badge */
.episteme-note-item-stats {
	font-size: 12px;
	color: var(--text-muted);
	margin-top: 2px;
}

.episteme-note-item-stats.episteme-stat-muted {
	color: var(--text-faint);
}

/* Header section */
.episteme-session-header {
	margin-bottom: 8px;
	text-align: center;
}

/* Selection count badge */
.episteme-session-count {
	font-size: 13px;
	color: var(--interactive-accent);
	font-weight: 500;
}

/* Footer section - reduced spacing */
.episteme-session-footer {
	margin-top: 8px;
	padding: 8px 12px 0 12px;
	/* border-top: 1px solid var(--background-modifier-border); */
}

.episteme-session-buttons {
	display: flex;
	gap: 8px;
}

/* Mobile adjustments - keep 2x2 grid */
@media screen and (max-width: 600px) {
	.episteme-quick-actions {
		grid-template-columns: repeat(2, 1fr);
		gap: 6px;
	}

	.episteme-quick-action-btn {
		padding: 10px 12px;
		font-size: 13px;
	}

	.episteme-session-footer {
		padding: 8px 8px 0 8px;
	}

	.episteme-session-buttons {
		padding-bottom: 72px;
	}

	/* Hide footer when search is focused (keyboard is open) */
	.episteme-panel.episteme-search-focused .episteme-panel-footer-container {
		display: none;
	}

	/* Hide quick actions and headers when searching on mobile */
	.episteme-panel.episteme-search-focused .episteme-quick-actions,
	.episteme-panel.episteme-search-focused .episteme-section-header {
		display: none;
	}
}
